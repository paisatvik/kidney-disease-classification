schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/CNN_classifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: e6085c8b664a8b3147f64861ded13614
      size: 588
    - path: src/CNN_classifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 9b2114d7710e73a12f140b97e4188501
      size: 889
    outs:
    - path: artifacts/data_ingestion/CT-KIDNEY-DATASET-Normal-Cyst-Tumor-Stone
      hash: md5
      md5: ea66d1beee6c364a22ebbf17b56feb2c.dir
      size: 57335142
      nfiles: 450
  prepare_base_model:
    cmd: python src/CNN_classifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: e6085c8b664a8b3147f64861ded13614
      size: 588
    - path: src/CNN_classifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: f7f4bb8c1d860f6215162af2f395b2b4
      size: 977
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 72ae9a708b52fa670471cf5f77c0e450.dir
      size: 118073233
      nfiles: 2
  training:
    cmd: python src/CNN_classifier/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 72ae9a708b52fa670471cf5f77c0e450.dir
      size: 118073233
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: e6085c8b664a8b3147f64861ded13614
      size: 588
    - path: src/CNN_classifier/pipeline/stage_03_model_training.py
      hash: md5
      md5: 96d617d34552e8c97ea028b7ce023832
      size: 902
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 5
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.02
    outs:
    - path: artifacts/training/model.keras
      hash: md5
      md5: 703d0bd101140c188c6365714c6c6015
      size: 59141250
  evaluation:
    cmd: python src/CNN_classifier/pipeline/stage_04_evaluation.py
    deps:
    - path: artifacts/training/model.keras
      hash: md5
      md5: 703d0bd101140c188c6365714c6c6015
      size: 59141250
    - path: config/config.yaml
      hash: md5
      md5: e6085c8b664a8b3147f64861ded13614
      size: 588
    - path: src/CNN_classifier/pipeline/stage_04_evaluation.py
      hash: md5
      md5: c5654ff72bdceedab33edb3b4fafb2f1
      size: 917
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: 1b5a05327c08d6e234e163d37e96d777
      size: 58
